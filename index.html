<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PROK 헌법 Ai </title>
    <link rel="stylesheet" href="css/style.css">

</head>

<body>
    <div class="grid"></div>

    <div style="text-align: center; z-index: 10;">
        <h1 class="title">헌법 Ai</h1>
        <p class="subtitle">한국기독교장로회 헌법 검색 인공지능 서비스 </p>

        <div id="main">
            <div id="poda">
                <div class="glow"></div>
                <div class="darkBorderBg"></div>
                <div class="border"></div>
                <div class="white"></div>

                <input type="text" class="input" placeholder="무엇이 궁금하신가요?" id="search-input" autocomplete="off"
                    autocorrect="off" autocapitalize="off" spellcheck="false">

                <div id="search-icon">🔍</div>
                <div id="input-mask"></div>
                <div id="pink-mask"></div>

                <div id="filter-icon">
                    <div class="filterBorder"></div>
                    <span style="color: white; font-size: 14px;">⚙️</span>
                </div>
            </div>
        </div>
    </div>

    <!-- 챗봇 모달 -->
    <div class="chatbot-modal" id="chatbot-modal">
        <div class="chatbot-container">
            <!-- 챗봇 헤더 -->
            <div class="chatbot-header">
                <div class="chatbot-title">
                    <div class="chatbot-avatar">AI</div>
                    <span>헌법 AI 어시스턴트</span>
                </div>
                <div class="conversation-counter" id="conversation-counter">
                    대화: 0/10
                </div>
                <button class="share-btn" id="save-chat-btn" title="대화 저장">
                    💾 저장
                </button>
                <button class="chatbot-close" id="chatbot-close">&times;</button>
            </div>

            <!-- 챗봇 메시지 영역 -->
            <div class="chatbot-messages" id="chatbot-messages">
                <!-- 메시지들이 여기에 동적으로 추가됩니다 -->
            </div>



            <!-- 챗봇 입력 영역 -->
            <div class="chatbot-input-area">
                <div class="chatbot-input-container">
                    <textarea class="chatbot-input" id="chatbot-input" placeholder="추가 질문을 입력하세요..." rows="1"
                        autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"></textarea>
                    <button class="chatbot-send-btn" id="chatbot-send-btn">
                        ➤
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- 셋업 버튼 -->
    <button class="setup-button" id="setup-button" title="AI 설정">
        ⚙️
    </button>

    <!-- 셋업 패널 -->
    <div class="setup-panel" id="setup-panel">
        <div class="setup-header">
            <div class="setup-title">AI 설정</div>
            <button class="setup-close" id="setup-close">&times;</button>
        </div>

        <!-- API 상태 -->
        <div class="setup-status" id="api-status">
            <div class="status-indicator" id="status-indicator"></div>
            <div class="status-text" id="status-text">API 연결 확인 중...</div>
        </div>

        <!-- API 설정 섹션 -->
        <div class="setup-section">
            <div class="setup-section-title">OpenAI API 설정</div>

            <div class="setup-input-group">
                <label class="setup-label">API 키</label>
                <input type="password" class="setup-input" id="api-key-input" placeholder="sk-...">
                <div class="setup-info">OpenAI API 키를 입력하세요. 보안을 위해 암호화되어 저장됩니다.</div>
            </div>

            <div class="setup-input-group">
                <label class="setup-label">Assistant ID (필수)</label>
                <input type="text" class="setup-input" id="assistant-id-input" placeholder="asst_...">
                <div class="setup-info"><a href="admin.html" target="_blank" style="color: #4ade80;">관리자 페이지</a>에서 생성된
                    ID를 입력하세요.</div>
            </div>

            <div class="setup-input-group">
                <label class="setup-label">모델 선택</label>
                <select class="setup-select" id="model-select">
                    <option value="gpt-4o">GPT-4o (최신, 가장 스마트함)</option>
                    <option value="gpt-4o-mini">GPT-4o Mini (빠르고 저렴)</option>
                    <option value="gpt-4-turbo">GPT-4 Turbo</option>
                    <option value="gpt-3.5-turbo">GPT-3.5 Turbo (구버전)</option>
                </select>
            </div>

            <div class="setup-input-group">
                <label class="setup-label">최대 토큰 수</label>
                <input type="number" class="setup-input" id="max-tokens-input" value="500" min="100" max="2000">
                <div class="setup-info">응답의 최대 길이를 설정합니다. 높을수록 긴 답변을 받을 수 있습니다.</div>
            </div>

            <div class="setup-input-group">
                <label class="setup-label">창의성 (Temperature)</label>
                <input type="range" class="setup-input" id="temperature-input" min="0" max="2" step="0.1" value="0.7">
                <div class="setup-info">0: 일관된 답변, 2: 창의적인 답변</div>
            </div>
        </div>

        <!-- 대화 설정 섹션 -->
        <div class="setup-section">
            <div class="setup-section-title">대화 설정</div>

            <div class="setup-input-group">
                <label class="setup-label">최대 대화 횟수</label>
                <input type="number" class="setup-input" id="max-conversations-input" value="10" min="5" max="50">
            </div>

            <div class="setup-toggle">
                <span class="toggle-label">대화 기록 저장</span>
                <div class="toggle-switch" id="save-history-toggle">
                    <input type="checkbox" id="save-history-checkbox" style="display: none;">
                </div>
            </div>

            <div class="setup-toggle">
                <span class="toggle-label">타이핑 애니메이션</span>
                <div class="toggle-switch active" id="typing-animation-toggle">
                    <input type="checkbox" id="typing-animation-checkbox" checked style="display: none;">
                </div>
            </div>
        </div>

        <!-- 프롬프트 설정 섹션 -->
        <div class="setup-section">
            <div class="setup-section-title">AI 프롬프트 설정</div>

            <div class="setup-input-group">
                <label class="setup-label">시스템 프롬프트</label>
                <textarea class="setup-input" id="system-prompt-input" rows="4"
                    placeholder="AI의 역할과 행동을 정의하는 프롬프트를 입력하세요...">당신은 한국기독교장로회 헌법 전문가입니다. 사용자의 질문에 대해 헌법에 근거하여 정확하고 친근하게 답변해주세요. 답변은 한국어로 하며, 헌법 조항을 인용할 때는 구체적으로 언급해주세요.</textarea>
            </div>
        </div>

        <!-- 버튼 영역 -->
        <div class="setup-buttons">
            <button class="setup-btn" id="save-settings-btn">설정 저장</button>
            <button class="setup-btn secondary" id="test-api-btn">API 테스트</button>
            <button class="setup-btn secondary" id="reset-settings-btn">초기화</button>
            <button class="setup-btn secondary close" id="close-settings-btn">닫기</button>
        </div>
    </div>

    <script src="js/app.js"></script>
</body>

</html>